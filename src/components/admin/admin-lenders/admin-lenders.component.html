<!-- src/app/components/admin/admin-lenders/admin-lenders.component.html -->

<div class="lenders-section">
  <div class="section-header">
    <h2 class="section-title">Lenders</h2>
    <div class="section-stats">
      {{ filteredLenders().length }} of {{ lenders().length }} lenders
    </div>
  </div>

  <div class="lenders-grid">
    <div *ngFor="let lender of filteredLenders()" class="lender-card">
      <div class="card-header">
        <div class="company-name">{{ lender.company || 'N/A' }}</div>
        <div class="login-status-indicator">
          <span class="status-dot" [style.background-color]="getLoginStatusColor(lender)"></span>
        </div>
      </div>
      
      <div class="card-content">
        <div class="contact-info">
          <div class="contact-name">{{ getFullName(lender) }}</div>
          <div class="contact-email">{{ lender.email || 'N/A' }}</div>
          <div class="contact-phone">{{ lender.phone || 'N/A' }}</div>
        </div>
        
        <div class="lender-details">
          <div class="detail-row">
            <span class="detail-label">Account#:</span>
            <span class="detail-value">{{ lender.accountNumber }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Type:</span>
            <span class="detail-value">{{ getLenderTypes(lender) }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Location:</span>
            <span class="detail-value">{{ getLocation(lender) }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Created:</span>
            <span class="detail-value">{{ formatCreatedDate(lender.createdAt) }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Last Login:</span>
            <span class="detail-value">{{ formatLastLoginDate(lender.lastLoginAt) }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Status:</span>
            <span class="detail-value status-badge" [ngClass]="'status-' + lender.loginStatus">
              {{ getLastLoginText(lender) }}
            </span>
          </div>
        </div>
      </div>
      
      <div class="card-actions">
        <button class="view-btn" (click)="onViewUser(lender)">View Details</button>
        <button class="delete-btn" (click)="onDeleteUser(lender)">Delete</button>
      </div>
    </div>
    
    <div *ngIf="filteredLenders().length === 0" class="no-lenders-message">
      <div class="no-data-icon">ðŸ“‹</div>
      <div class="no-data-text">
        {{ lenders().length === 0 ? 'No lenders found' : 'No lenders match your filter' }}
      </div>
    </div>
  </div>
</div>
